{"version":3,"file":"static/js/472.76474a70.chunk.js","mappings":"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","sources":["component/canvas/WebglPc.jsx","component/canvas/Flat.jsx","component/layout/About.jsx","component/widgets/CanvasLoader.jsx"],"sourcesContent":["// WebglPc.jsx\n\nimport React, { Suspense, useMemo, useEffect } from 'react';\nimport { Canvas } from '@react-three/fiber';\nimport { Html, Preload, PresentationControls, useGLTF, PerformanceMonitor } from '@react-three/drei';\nimport CanvasLoader from \"../widgets/CanvasLoader.jsx\";\nimport { TextureLoader } from 'three';\nimport { useLoader } from '@react-three/fiber';\n\n// Custom hook to detect the user's operating system\nconst useOperatingSystem = () => {\n    const [os, setOs] = React.useState('unknown');\n\n    React.useEffect(() => {\n        const userAgent = window.navigator.userAgent;\n        if (userAgent.includes('Win')) setOs('windows');\n        else if (userAgent.includes('Mac')) setOs('mac');\n    }, []);\n\n    return os;\n};\n\n// Memoized MacModel component\nconst MacModel = React.memo(() => {\n    const { scene } = useGLTF(`${process.env.PUBLIC_URL}/pc.glb`);\n\n    // Memoized positions and rotations\n    const modelPosition = useMemo(() => [3, -2.8, 5.5], []);\n    const modelRotation = useMemo(() => [0, -Math.PI / 2, 0], []);\n    const iframePosition = useMemo(() => [0, 0.2, 4.3], []);\n\n    const os = useOperatingSystem();\n\n    // Enable shadows on meshes\n    useEffect(() => {\n        scene.traverse((child) => {\n            if (child.isMesh) {\n                child.castShadow = true;\n                child.receiveShadow = true;\n            }\n        });\n    }, [scene]);\n\n\n    return (\n        <>\n            {/* Original ambient light */}\n            <ambientLight intensity={2} color={\"#ffffff\"} />\n\n            {/* Original point lights */}\n            <pointLight\n                position={[4, 0, 8]}\n                intensity={50}\n                color={\"#7cb3c4\"}\n                castShadow\n                shadow-mapSize-width={128}\n                shadow-mapSize-height={128}\n                shadow-radius={10}\n            />\n            <pointLight\n                position={[-7, 1, 8]}\n                intensity={100}\n                color={\"#d24e4e\"}\n                castShadow\n                shadow-mapSize-width={128}\n                shadow-mapSize-height={128}\n                shadow-radius={10}\n            />\n            <pointLight\n                position={[2, 1, -8]}\n                intensity={50}\n                color={\"#a308ef\"}\n                castShadow\n                shadow-mapSize-width={128}\n                shadow-mapSize-height={128}\n                shadow-radius={10}\n            />\n\n            {/* Mac model */}\n            <group position={modelPosition} rotation={modelRotation}>\n                <primitive object={scene} scale={1} />\n            </group>\n\n            {/* iFrame content */}\n            <group position={iframePosition}>\n                <Html\n                    transform\n                    wrapperClass=\"webgl-iframe-wrapper\"\n                    distanceFactor={1.65}\n                    occlude\n                >\n                    <iframe\n                        title=\"iframe-pc\"\n                        className={`webgl-iframe webgl-iframe-${os}`}\n                        sandbox=\"allow-scripts allow-same-origin\"\n                        loading=\"lazy\"\n                        src=\"https://mikalasa.github.io/ProfileWeb-Iframe-About/\"\n                    />\n                </Html>\n            </group>\n        </>\n    );\n});\n\n// Preload the GLTF model to improve loading times\nuseGLTF.preload(`${process.env.PUBLIC_URL}/pc.glb`);\n\n// Memoized Wall component\nconst Wall = React.memo(() => {\n    const texture = useLoader(TextureLoader, `${process.env.PUBLIC_URL}/pc-ground.webp`);\n\n    return (\n        <mesh\n            position={[0, 0, -12]}\n            rotation={[0, 0, Math.PI / 2]}\n            receiveShadow\n        >\n            <planeGeometry args={[50, 50]} />\n            <meshStandardMaterial map={texture} />\n        </mesh>\n    );\n});\n\n// Main WebglPc component\nconst WebglPc = () => {\n    return (\n        <div className=\"mac-bg\">\n            <Canvas\n                shadows\n                dpr={[1, 1.5]}\n                camera={{ position: [0, 0, 15], fov: 25 }}\n                gl={{ antialias: true }}\n            >\n                {/* Performance monitor to adjust settings based on device capability */}\n                <PerformanceMonitor />\n\n                {/* Suspense for lazy loading */}\n                <Suspense fallback={<CanvasLoader />}>\n                    {/* PresentationControls with your original values */}\n                    <PresentationControls\n                        snap\n                        config={{ tension: 120, friction: 20 }}\n                        azimuth={[(-20 * Math.PI) / 180, (20 * Math.PI) / 180]}\n                        polar={[(-5 * Math.PI) / 180, (15 * Math.PI) / 180]}\n                    >\n                        <MacModel />\n                        <Wall />\n                    </PresentationControls>\n                </Suspense>\n\n                {/* Preload all assets */}\n                <Preload all />\n            </Canvas>\n        </div>\n    );\n};\n\nexport default WebglPc;\n","import {Html} from \"@react-three/drei\";\nimport {Canvas} from \"@react-three/fiber\";\nimport React, {useEffect, useRef, useState} from \"react\";\n\nfunction Flat() {\n    const mockupImage = process.env.PUBLIC_URL + '/mockup_iphone.png';\n    const imgRef = useRef(null);\n    const [iframeHeight, setIframeHeight] = useState(0);\n\n    useEffect(() => {\n        function updateIframeHeight() {\n            if (imgRef.current) {\n                const imgHeight = imgRef.current.clientHeight;\n                setIframeHeight(imgHeight * 0.95);\n            }\n        }\n\n        window.addEventListener('resize', updateIframeHeight);\n        return () => {\n            window.removeEventListener('resize', updateIframeHeight);\n        };\n    }, []);\n\n    function handleImageLoad() {\n        if (imgRef.current) {\n            const imgHeight = imgRef.current.clientHeight;\n            setIframeHeight(imgHeight * 0.95);\n        }\n    }\n\n    return (\n    <div className=\"flat-bg\">\n        <Canvas>\n            <Html\n                wrapperClass=\"webgl-iframe-wrapper\"\n            >\n                <div className=\"iframe-flat-container\">\n                    <img\n                        ref={imgRef}\n                        src={mockupImage}\n                        alt=\"Device mockup\"\n                        className=\"mockup-image\"\n                        onLoad={handleImageLoad}\n                    />\n                    <iframe\n                        title={\"iframe-flat\"}\n                        className=\"webgl-iframe-flat\"\n                        src=\"https://mikalasa.github.io/ProfileWeb-Iframe-About/\"\n                        style={{ height: `${iframeHeight}px` }}\n                    />\n                </div>\n            </Html>\n        </Canvas>\n    </div>\n  );\n}\n\nexport default Flat;","import {isMobile} from \"react-device-detect\";\nimport WebglPc from \"../canvas/WebglPc.jsx\";\nimport Flat from \"../canvas/Flat.jsx\";\nimport {useEffect, useRef, useState} from \"react\";\n\nfunction About() {\n    useEffect(() => {\n        setTimeout(() => window.scrollTo(0, 0), 100);\n    }, []);\n    const [loadWebglPc, setLoadWebglPc] = useState(false);\n    const webglPcRef = useRef(null);\n\n    useEffect(() => {\n        const observer = new IntersectionObserver(\n            (entries) => {\n                if (entries[0].isIntersecting) {\n                    setLoadWebglPc(true);\n                    observer.unobserve(webglPcRef.current);\n                }\n            },\n            { threshold: 0.1 }\n        );\n        if (webglPcRef.current) {\n            observer.observe(webglPcRef.current);\n        }\n\n        return () => observer.disconnect();\n    }, []);\n    return (\n        <section id=\"about\" ref={webglPcRef} className=\"about-container layout-container\">\n            {!isMobile && loadWebglPc ? <WebglPc/> : loadWebglPc && <Flat/>}\n        </section>\n    );\n}\n\nexport default About;","import { Html, useProgress } from \"@react-three/drei\";\n\nconst CanvasLoader = () => {\n    const { progress } = useProgress();\n    return (\n        <Html\n            as='div'\n            center\n            style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                flexDirection: \"column\",\n            }}\n        >\n            <span className='canvas-loader'></span>\n            <p\n                style={{\n                    fontSize: 14,\n                    color: \"#F1F1F1\",\n                    fontWeight: 800,\n                    marginTop: 40,\n                }}\n            >\n                {progress.toFixed(2)}%\n            </p>\n        </Html>\n    );\n};\n\nexport default CanvasLoader;\n"],"names":["MacModel","React","scene","useGLTF","concat","process","modelPosition","useMemo","modelRotation","Math","PI","iframePosition","os","useOperatingSystem","setOs","userAgent","window","navigator","includes","useEffect","traverse","child","isMesh","castShadow","receiveShadow","_jsxs","_Fragment","children","_jsx","intensity","color","position","rotation","object","scale","Html","transform","wrapperClass","distanceFactor","occlude","title","className","sandbox","loading","src","preload","Wall","texture","useLoader","TextureLoader","args","map","WebglPc","Canvas","shadows","dpr","camera","fov","gl","antialias","PerformanceMonitor","Suspense","fallback","CanvasLoader","PresentationControls","snap","config","tension","friction","azimuth","polar","Preload","all","imgRef","useRef","iframeHeight","setIframeHeight","useState","updateIframeHeight","current","imgHeight","clientHeight","addEventListener","removeEventListener","ref","alt","onLoad","style","height","setTimeout","scrollTo","loadWebglPc","setLoadWebglPc","webglPcRef","observer","IntersectionObserver","entries","isIntersecting","unobserve","threshold","observe","disconnect","id","isMobile","Flat","progress","useProgress","as","center","display","justifyContent","alignItems","flexDirection","fontSize","fontWeight","marginTop","toFixed"],"sourceRoot":""}